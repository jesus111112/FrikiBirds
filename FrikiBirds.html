<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="decoracion_principal.css">
    <link rel="stylesheet" href="titulos.css">
    <link rel="icon" type="image/png" href="logoBirds.jpg">
    <title>FrikiBirds</title>
        <style>
            .register-overlay {
                display: none;
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background-color: rgba(0, 0, 0, 0.8);
                z-index: 100;
                justify-content: center;
                align-items: center;
            }

            .register-form {
                background-color: #121212; /* o var(--carbon-bg) si ya tienes esta variable */
                border: 2px solid #0047AB; /* o var(--blue-stripes) */
                border-radius: 10px;
                padding: 30px;
                width: 350px;
                max-width: 90%;
                box-shadow: 0 0 20px #00BFFF; /* o var(--blue-rays) */
                position: relative;
                animation: formGlow 2s infinite alternate;
            }

            @keyframes formGlow {
                0% { box-shadow: 0 0 15px #00BFFF; } /* o var(--blue-rays) */
                100% { box-shadow: 0 0 25px #00BFFF, 0 0 35px #00BFFF; } /* o var(--blue-rays) */
            }

            .register-form h2 {
                color: #00BFFF; /* o var(--blue-rays) */
                text-align: center;
                margin-bottom: 20px;
                text-shadow: 0 0 5px #00BFFF; /* o var(--blue-rays) */
            }

            .form-group {
                margin-bottom: 20px;
            }

            .form-group label {
                display: block;
                color: #00BFFF; /* o var(--electric-blue) */
                margin-bottom: 5px;
            }

            .form-group input {
                width: 100%;
                padding: 10px;
                background-color: rgba(18, 18, 18, 0.8);
                border: 1px solid #0047AB; /* o var(--blue-stripes) */
                border-radius: 5px;
                color: white;
                outline: none;
                transition: all 0.3s ease;
            }

            .form-group input:focus {
                border-color: #00BFFF; /* o var(--blue-rays) */
                box-shadow: 0 0 10px #00BFFF; /* o var(--blue-rays) */
            }

            .form-buttons {
                display: flex;
                justify-content: space-between;
                margin-top: 25px;
            }

            .cancel-button {
                background-color: rgba(50, 50, 50, 0.8);
            }

            /* Estilo para las pestañas */
            .form-tabs {
                display: flex;
                margin-bottom: 20px;
                border-bottom: 1px solid #0047AB; /* o var(--blue-stripes) */
            }

            .tab {
                padding: 10px 20px;
                cursor: pointer;
                color: #00BFFF; /* o var(--electric-blue) */
                transition: all 0.3s ease;
            }

            .tab.active {
                border-bottom: 2px solid #00BFFF; /* o var(--blue-rays) */
                color: white;
                text-shadow: 0 0 5px #00BFFF; /* o var(--blue-rays) */
            }

            .tab-content {
                display: none;
            }

            .tab-content.active {
                display: block;
            }
        </style>
</head>
<body>
    
    <div class="logo-container">
        <img src="logoBirds.jpg" alt="Logo">
    </div>
        <div class="main-content">
            <div class="container">
                <div class="blue-stripes"></div>
                
                <div class="blue-ray ray-1"></div>
                <div class="blue-ray ray-2"></div>
                <div class="blue-ray ray-3"></div>
                <div class="blue-ray ray-4"></div>
                <div class="blue-ray ray-5"></div>
            </div>
        </div>
        <h1>FrikiBirds: Renta de Desarrolladores</h1>
        <div class="category-menu" id="categoryMenu">
    <button class="category-button" onclick="filtrarItems('todos')">Todos</button>
    <button class="category-button" onclick="filtrarItems('programador')">Lógica de programación</button>
    <button class="category-button" onclick="filtrarItems('diseñador')">Diseñador de páginas y aplicaciones</button>
    <button class="category-button" onclick="filtrarItems('editor')">Editor de videos</button>
</div>

<div class="product-grid" id="productGrid">
    <!-- Productos generados dinámicamente -->
</div>

<div class="blue-stripes"></div>

<script>
    const venta = [
        {
            id: 1,
            nombre: "Ramón Sevilla Santos",
            precio: 299.99,
            descripcion: "Ramón, un creador integral que fusiona la estética con la funcionalidad. Con una visión clara para la experiencia del usuario y una sólida habilidad técnica, da vida a interfaces atractivas y eficientes, donde el diseño intuitivo y el código robusto se complementan a la perfección.",
            categoria_raresa: "raros",
            categorias: ["programador", "diseñador"],
            imagen: "ramon.png",
            rating: 4.5
        },
        {
            id: 2,
            nombre: "Ángel Gabriel Miramontes Duarte",
            precio: 199.99,
            descripcion: "Ángel Gabriel, un artesano digital dedicado a transformar ideas en código funcional. Con una lógica precisa y un dominio experto de lenguajes de programación, construye la columna vertebral de aplicaciones y sistemas con solidez y eficiencia.",
            categorias: ["programador"],
            imagen: "grabiel.png",
            rating: 4.6
        },
        {
            id: 3,
            nombre: "Jesús Valenzuela Ayala",
            precio: 399.99,
            descripcion: "Jesús, un arquitecto digital versátil que conceptualiza, diseña visualmente y construye aplicaciones robustas. Además de su habilidad para crear interfaces atractivas y funcionales, su talento como editor de videos enriquece los proyectos con contenido multimedia dinámico y atractivo.",
            categorias: ["programador", "editor", "diseñador"],
            imagen: "jesus.png",
            rating: 4.9
        },
        {
            id: 4,
            nombre: "Jesús Enoel Sepúlveda Olvera",
            precio: 359.99,
            descripcion: "Jesús Enoel, un creador digital multifacético que combina la lógica del código con la estética del diseño. Su capacidad para desarrollar aplicaciones sólidas se complementa con su habilidad para diseñar interfaces intuitivas y su destreza en la edición de videos, aportando una dimensión visual impactante a cada proyecto.",
            categorias: ["diseñador", "editor", "programador"],
            imagen: "enoel.png",
            rating: 4.5
        },
        {
            id: 5,
            nombre: "Cruz Piz Sebastian Said",
            precio: 269.99,
            descripcion: "Sebas, un entusiasta programador dedicado a la creación de soluciones digitales innovadoras. Con agilidad y destreza en el manejo de diversos lenguajes de programación, aporta su talento para construir aplicaciones funcionales y eficientes.",
            categorias: ["programador"],
            imagen: "sebas.png",
            rating: 4.2
        },
        {
            id: 6,
            nombre: "Héctor Alejandro Brizuela Araujo",
            precio: 399.99,
            descripcion: "Héctor Alejandro, un ingeniero de software enfocado en la construcción de soluciones digitales sólidas y eficientes. Con un enfoque meticuloso y un profundo conocimiento de la programación, transforma requisitos complejos en código funcional y de alto rendimiento.",
            categorias: ["programador"],
            imagen: "hector.png",
            rating: 4.9
        }
    ];

    function mostrarItems(itemsAMostrar) {
        const grid = document.getElementById('productGrid');
        grid.innerHTML = '';
        
        itemsAMostrar.forEach(item => {
            const card = document.createElement('div');
            card.className = 'product-card';
            
            // Crear las estrellas basadas en el rating
            const stars = '★'.repeat(Math.floor(item.rating)) + 
                        (item.rating % 1 ? '½' : '') +
                        '☆'.repeat(5 - Math.ceil(item.rating));

            // Crear un string con las categorías
            const categoriasTxt = item.categorias ? 
                `<div class="product-categories">Categorías: ${item.categorias.join(', ')}</div>` : '';

            card.innerHTML = `
                <img src="${item.imagen}" alt="${item.nombre}" class="product-image">
                <h3 class="product-title">${item.nombre}</h3>
                <p class="product-description">
                    ${item.descripcion || 'Sin descripción disponible'}
                </p>
                ${categoriasTxt}
                <div class="rating">${stars} ${item.rating}</div>
                <div class="product-price">$${item.precio.toFixed(2)}</div>
                <div class="stock-status">
                    ${item.stock > 0 ? `¡Solo quedan ${item.stock} unidades!` : ''}
                </div>
                ${item.envioGratis ? '<div class="shipping-info">✓ Envío GRATIS</div>' : ''}
                <button class="buy-button" onclick="agregarAlCarrito(${item.id}, '${item.nombre}', ${item.precio}, '${item.imagen}')">
                    Agregar al carrito
                </button>
            `;
            grid.appendChild(card);
        });
    }

    function filtrarItems(categoria) {
        let itemsFiltrados;
        if (categoria === 'todos') {
            itemsFiltrados = venta;
        } else {
            // Filtra productos que incluyan la categoría seleccionada en su array de categorías
            itemsFiltrados = venta.filter(item => item.categorias && item.categorias.includes(categoria));
        }
        mostrarItems(itemsFiltrados);
    }

    function agregarAlCarrito(id, nombre, precio, imagen) {
        const carrito = obtenerCarrito();
        
        // Verificar si el producto ya existe en el carrito
        const productoExistente = carrito.find(item => item.id === id);
        
        if (productoExistente) {
            // Si ya existe, aumentar la cantidad
            productoExistente.cantidad += 1;
            mostrarMensajeFlotante('Cantidad actualizada en el carrito');
        } else {
            // Si no existe, agregar como nuevo
            carrito.push({
                id: id,
                nombre: nombre,
                precio: precio,
                imagen: imagen,
                cantidad: 1
            });
            mostrarMensajeFlotante('Producto agregado al carrito');
        }
        
        guardarCarrito(carrito);
    }

    // Obtener carrito del localStorage
    function obtenerCarrito() {
        return JSON.parse(localStorage.getItem('carritoCompras')) || [];
    }

    // Guardar carrito en localStorage
    function guardarCarrito(carrito) {
        localStorage.setItem('carritoCompras', JSON.stringify(carrito));
        actualizarContadorCarrito();
    }

    // Actualizar contador del carrito
    function actualizarContadorCarrito() {
        const carrito = obtenerCarrito();
        const contador = carrito.reduce((total, item) => total + item.cantidad, 0);
        
        // Actualizar el contador visual si existe el elemento
        const contadorElement = document.getElementById('contadorCarrito');
        if (contadorElement) {
            contadorElement.textContent = contador;
        }
    }

    // Mostrar mensaje flotante
    function mostrarMensajeFlotante(texto, duracion = 3000) {
        // Crear elemento del mensaje si no existe
        let mensaje = document.getElementById('mensajeFlotante');
        
        if (!mensaje) {
            mensaje = document.createElement('div');
            mensaje.id = 'mensajeFlotante';
            mensaje.style.position = 'fixed';
            mensaje.style.top = '80px';
            mensaje.style.right = '20px';
            mensaje.style.padding = '15px 20px';
            mensaje.style.backgroundColor = '#0047AB';
            mensaje.style.color = 'white';
            mensaje.style.borderRadius = '5px';
            mensaje.style.zIndex = '1000';
            mensaje.style.opacity = '0';
            mensaje.style.transform = 'translateY(-20px)';
            mensaje.style.transition = 'all 0.3s ease';
            document.body.appendChild(mensaje);
        }
        
        // Mostrar el mensaje
        mensaje.textContent = texto;
        setTimeout(() => {
            mensaje.style.opacity = '1';
            mensaje.style.transform = 'translateY(0)';
        }, 10);
        
        // Ocultar después de la duración
        setTimeout(() => {
            mensaje.style.opacity = '0';
            mensaje.style.transform = 'translateY(-20px)';
        }, duracion);
    }

    function irAlCarrito() {
        // Verificar si el usuario ha iniciado sesión
        const usuarioConectado = localStorage.getItem('usuarioConectado');
        
        if (usuarioConectado === 'true') {
            // Si ha iniciado sesión, ir al carrito
            window.location.href = 'carrito.html';
        } else {
            // Si no ha iniciado sesión, mostrar el formulario de registro
            document.getElementById('registerOverlay').style.display = 'flex';
        }
    }

    // Función para cerrar sesión
    function cerrarSesion() {
        localStorage.setItem('usuarioConectado', 'false');
        mostrarMensajeFlotante('Has cerrado sesión correctamente');
    }

    // Función para cerrar el formulario de registro
    function cerrarRegistro() {
        document.getElementById('registerOverlay').style.display = 'none';
    }

    // Mostrar los items automáticamente al cargar la página
    document.addEventListener('DOMContentLoaded', function() {
        document.getElementById('categoryMenu').style.display = 'block';
        document.getElementById('productGrid').style.display = 'grid';
        mostrarItems(venta);

        // Crear botón de cerrar sesión
        const cerrarSesionBtn = document.createElement('div');
        cerrarSesionBtn.id = 'cerrarSesionBtn';
        cerrarSesionBtn.className = 'cerrar-sesion-btn';
        cerrarSesionBtn.innerHTML = '🚪 Cerrar sesión';
        cerrarSesionBtn.onclick = cerrarSesion;
        cerrarSesionBtn.style.position = 'fixed';
        cerrarSesionBtn.style.top = '25px';
        cerrarSesionBtn.style.right = '220px';
        cerrarSesionBtn.style.padding = '10px';
        cerrarSesionBtn.style.backgroundColor = '#121212';
        cerrarSesionBtn.style.border = '1px solid #0047AB';
        cerrarSesionBtn.style.borderRadius = '5px';
        cerrarSesionBtn.style.cursor = 'pointer';
        cerrarSesionBtn.style.zIndex = '100';
        cerrarSesionBtn.style.color = 'white';  
        cerrarSesionBtn.style.boxShadow = '0 0 5px #00BFFF';  
        document.body.appendChild(cerrarSesionBtn);
        
        // Verificar si hay usuario conectado para mostrar u ocultar el botón
        const usuarioConectado = localStorage.getItem('usuarioConectado');
        if (usuarioConectado !== 'true') {
            cerrarSesionBtn.style.display = 'none';
        }

        // Crear el icono del carrito si no existe
        if (!document.getElementById('carritoIcono')) {
            const carritoIcono = document.createElement('div');
            carritoIcono.id = 'carritoIcono';
            carritoIcono.className = 'carrito-icon';
            carritoIcono.innerHTML = '🛒 <span class="carrito-contador" id="contadorCarrito">0</span>';
            carritoIcono.onclick = irAlCarrito;
            carritoIcono.style.position = 'fixed';
            carritoIcono.style.top = '20px';
            carritoIcono.style.right = '140px';
            carritoIcono.style.display = 'flex';
            carritoIcono.style.alignItems = 'center';
            carritoIcono.style.padding = '10px';
            carritoIcono.style.backgroundColor = '#121212';
            carritoIcono.style.border = '1px solid #0047AB';
            carritoIcono.style.borderRadius = '5px';
            carritoIcono.style.cursor = 'pointer';
            carritoIcono.style.zIndex = '100';
            document.body.appendChild(carritoIcono);
            
            // Estilo para el contador
            const style = document.createElement('style');
            style.textContent = `
            .carrito-contador {
                background-color: #00BFFF;
                color: white;
                font-size: 12px;
                border-radius: 50%;
                padding: 5px 8px;
                margin-left: 5px;
            }
            
            .carrito-icon:hover {
                box-shadow: 0 0 15px #00BFFF;
                transition: all 0.3s ease;
            }

            .product-categories {
                color: #0047AB;
                font-size: 0.9em;
                margin: 5px 0;
                background-color: rgba(0, 71, 171, 0.1);
                padding: 5px;
                border-radius: 3px;
            }
            `;
            document.head.appendChild(style);
        }

        // Control de pestañas registro/inicio sesión
        document.querySelectorAll('.tab').forEach(tab => {
            tab.addEventListener('click', function() {
                // Quitar clase activa de todas las pestañas
                document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                // Añadir clase activa a la pestaña clickeada
                this.classList.add('active');
                
                // Ocultar todos los contenidos de pestañas
                document.querySelectorAll('.tab-content').forEach(content => {
                    content.classList.remove('active');
                });
                
                // Mostrar el contenido de la pestaña correspondiente
                const contenidoTab = document.getElementById(this.dataset.tab + 'Tab');
                if (contenidoTab) {
                    contenidoTab.classList.add('active');
                }
            });
        });
        
        // Manejar envío del formulario de registro
        if (document.getElementById('userRegisterForm')) {
            document.getElementById('userRegisterForm').addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Obtener valores del formulario
                const nombre = document.getElementById('userName').value;
                const email = document.getElementById('userEmail').value;
                const password = document.getElementById('userPassword').value;
                
                // Guardar información del usuario
                localStorage.setItem('nombreUsuario', nombre);
                localStorage.setItem('emailUsuario', email);
                localStorage.setItem('usuarioConectado', 'true');
                
                // Mostrar mensaje de éxito
                mostrarMensajeFlotante('¡Registro exitoso! Ahora puedes acceder al carrito', 3000);
                
                // Cerrar el formulario de registro
                cerrarRegistro();
                
                // Redirigir al carrito después de un breve retraso
                setTimeout(() => {
                    window.location.href = 'carrito.html';
                }, 1500);
            });
        }
        
        // Manejar envío del formulario de inicio de sesión
        if (document.getElementById('userLoginForm')) {
            document.getElementById('userLoginForm').addEventListener('submit', function(e) {
                e.preventDefault();
                
                // En una aplicación real, validarías las credenciales con datos almacenados
                localStorage.setItem('usuarioConectado', 'true');
                
                // Mostrar mensaje de éxito
                mostrarMensajeFlotante('¡Inicio de sesión exitoso!', 2000);
                
                // Cerrar el formulario
                cerrarRegistro();
                
                // Redirigir al carrito
                setTimeout(() => {
                    window.location.href = 'carrito.html';
                }, 1000);
            });
        }
        
        // Actualizar contador del carrito
        actualizarContadorCarrito();
    });
</script>

<div id="registerOverlay" class="register-overlay">
    <div class="register-form">
        <div class="form-tabs">
            <div class="tab active" data-tab="register">Crear Cuenta</div>
            <div class="tab" data-tab="login">Iniciar Sesión</div>
        </div>
        
        <div id="registerTab" class="tab-content active">
            <h2>Crear Cuenta</h2>
            <form id="userRegisterForm">
                <div class="form-group">
                    <label for="userName">Nombre:</label>
                    <input type="text" id="userName" required>
                </div>
                <div class="form-group">
                    <label for="userEmail">Correo:</label>
                    <input type="email" id="userEmail" required>
                </div>
                <div class="form-group">
                    <label for="userPassword">Contraseña:</label>
                    <input type="password" id="userPassword" required>
                </div>
                <div class="form-buttons">
                    <button type="submit" class="glow-button">Registrarse</button>
                    <button type="button" class="glow-button cancel-button" onclick="cerrarRegistro()">Cancelar</button>
                </div>
            </form>
        </div>
        
        <div id="loginTab" class="tab-content">
            <h2>Iniciar Sesión</h2>
            <form id="userLoginForm">
                <div class="form-group">
                    <label for="loginEmail">Correo:</label>
                    <input type="email" id="loginEmail" required>
                </div>
                <div class="form-group">
                    <label for="loginPassword">Contraseña:</label>
                    <input type="password" id="loginPassword" required>
                </div>
                <div class="form-buttons">
                    <button type="submit" class="glow-button">Iniciar Sesión</button>
                    <button type="button" class="glow-button cancel-button" onclick="cerrarRegistro()">Cancelar</button>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- Los rayos de tormenta desde la línea inferior -->
<div class="storm-container">
    <div class="lightning lightning-1"></div>
    <div class="lightning lightning-2"></div>
    <div class="lightning lightning-3"></div>
    <div class="lightning lightning-4"></div>
    <div class="lightning lightning-5"></div>
    <div class="lightning lightning-6"></div>
    <div class="storm-clouds"></div>
</div>
</body>
</html>
